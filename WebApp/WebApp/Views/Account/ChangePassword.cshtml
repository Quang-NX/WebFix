@using WebApp.Areas.Admin.Models.ViewModels
@using Domain.Entities
@model ChangePasswordViewModel
@{
    ViewBag.Title = "ChangePassword";
    Layout = "~/Views/Layout/_Layout.cshtml";
    User user = (User)Session["username"];
}
<div class="container">
    <div class="row">
        <div class="col-sm-4 col-md-3 sidebar">
            <div class="mini-submenu">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </div>
            <div class="list-group">
                <span href="#" class="list-group-item">
                    <p>Tài khoản của</p>
                    <strong>
                        @user.UserName
                    </strong>
                    @*<span class="pull-right" id="slide-submenu">
                            <i class="fa fa-times"></i>
                        </span>*@
                </span>
                <a href="@Url.Action("GetUser","Account")" class="list-group-item">
                    <i class="fa fa-user"></i> <span>Thông tin tài khoản</span>
                </a>
                <a href="@Url.Action("ChangePassword","Account")" class="list-group-item">
                    <i class="fa fa-user"></i> <span>Thay đổi mật khẩu</span>
                </a>
                <a href="@Url.Action("Logout","Home")" class="list-group-item">
                    <i class="fa fa-sign-out"></i> <span>Đăng xuất</span>
                </a>
                @*<a href="#" class="list-group-item">
                        <i class="fa fa-comment-o"></i> Lorem ipsum
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-search"></i> Lorem ipsum
                    </a>

                    <a href="#" class="list-group-item">
                        <i class="fa fa-folder-open-o"></i> Lorem ipsum <span class="badge">14</span>
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-bar-chart-o"></i> Lorem ipsumr <span class="badge">14</span>
                    </a>
                    <a href="#" class="list-group-item">
                        <i class="fa fa-envelope"></i> Lorem ipsum
                    </a>*@
            </div>
        </div>

        <div class="col-sm-8 col-md-9 sidebar">
            @if (ViewBag.Success!=null)
            {
                <div class="alert alert-success">
                    <i class="fa fa-check" aria-hidden="true"></i>
                    @ViewBag.Success
                </div>
            }
            @if (ViewBag.Error!=null && user != null)
            {
                <div class="alert alert-danger">
                    <i class="fa fa-times" aria-hidden="true"></i>
                    @ViewBag.Error
                </div>
            }
            <h1 class="have-margin">
                Thay đổi mật khẩu
            </h1>
            <div class="user-info">
                <form class="form-horizontal" method="post">
                    <fieldset>
                        <input id="Id" name="Id" value="@user.Id" type="hidden" class="form-control input-md">
                        <!-- Text input-->
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="textinput">Mật khẩu cũ</label>
                            <div class="col-md-6">
                                <input id="Password" value="@Model.Password" name="Password" type="password" placeholder="Nhập mật khẩu cũ" class="form-control input-md">
                                @*@Html.EditorFor(x => x.FirstName, null, new { @class="form-control input-md",@id="textinput"})*@
                                <span class="help-block"></span>
                                @Html.ValidationMessageFor(x => x.Password, null, new { @class = "text-danger" })
                            </div>
                        </div>

                        <!-- Text input-->
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="textinput">Mật khẩu mới</label>
                            <div class="col-md-6">
                                <input id="ConfirmPassword" value="@Model.NewPassword" name="NewPassword" type="password" placeholder="Nhập mật khẩu mới" class="form-control input-md">
                                <span class="help-block"></span>
                                @Html.ValidationMessageFor(x => x.NewPassword, null, new { @class = "text-danger" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-2 control-label" for="textinput"></label>
                            <div class="col-md-6">
                                <button id="save-password" name="singlebutton" class="btn btn-danger">Cập nhật</button>
                            </div>
                        </div>

                    </fieldset>
                </form>
            </div>

        </div>
    </div>
</div>
</script>

